<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REACH 2.0 - Patient Journey Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'teal': {
                            400: '#2dd4bf',
                            500: '#14b8a6',
                            600: '#0d9488',
                            700: '#0f766e'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .screen {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            display: none;
        }
        .screen.active {
            opacity: 1;
            transform: translateY(0);
            display: flex;
        }
        
        /* Enhanced animations */
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes pulseGlow {
            0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(20, 184, 166, 0.3); }
            50% { transform: scale(1.05); box-shadow: 0 0 40px rgba(20, 184, 166, 0.6); }
        }
        
        .animate-slide-in { animation: slideInUp 0.8s ease-out; }
        .animate-fade-scale { animation: fadeInScale 0.6s ease-out; }
        .animate-pulse-glow { animation: pulseGlow 2s infinite; }
        
        .points-earned {
            background: linear-gradient(135deg, #10b981 0%, #14b8a6 50%, #06b6d4 100%);
            animation: pulseGlow 2s infinite;
        }
        
        /* Perfect Roulette Wheel - Gold Standard */
        .roulette-wheel {
            position: relative;
            width: 18rem;
            height: 18rem;
            border-radius: 50%;
            border: 10px solid #d1d5db;
            background: conic-gradient(from 0deg,
                #ef4444 0deg 36deg,     /* $5 - 10% */
                #22c55e 36deg 72deg,    /* $10 - 10% */
                #ef4444 72deg 108deg,   /* $5 - 10% */
                #22c55e 108deg 144deg,  /* $15 - 10% */
                #ef4444 144deg 180deg,  /* $5 - 10% */
                #22c55e 180deg 216deg,  /* $10 - 10% */
                #ef4444 216deg 252deg,  /* $5 - 10% */
                #8b5cf6 252deg 288deg,  /* $25 - 10% */
                #ef4444 288deg 324deg,  /* $5 - 10% */
                #f59e0b 324deg 360deg   /* $30 - 10% */
            );
            transition: transform 3.5s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15), 
                        inset 0 2px 10px rgba(255, 255, 255, 0.1);
        }
        
        .roulette-wheel.spinning {
            box-shadow: 0 0 60px rgba(168, 85, 247, 0.6),
                        0 20px 60px rgba(0, 0, 0, 0.15);
        }
        
        .roulette-numbers {
            position: absolute;
            inset: 0;
            border-radius: 50%;
        }
        
        .roulette-number {
            position: absolute;
            color: white;
            font-weight: bold;
            font-size: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            top: 50%;
            left: 50%;
        }
        
        /* Precise positioning for perfect alignment */
        .roulette-number:nth-child(1) { transform: translate(-50%, -50%) rotate(18deg) translateY(-6rem) rotate(-18deg); }
        .roulette-number:nth-child(2) { transform: translate(-50%, -50%) rotate(54deg) translateY(-6rem) rotate(-54deg); }
        .roulette-number:nth-child(3) { transform: translate(-50%, -50%) rotate(90deg) translateY(-6rem) rotate(-90deg); }
        .roulette-number:nth-child(4) { transform: translate(-50%, -50%) rotate(126deg) translateY(-6rem) rotate(-126deg); }
        .roulette-number:nth-child(5) { transform: translate(-50%, -50%) rotate(162deg) translateY(-6rem) rotate(-162deg); }
        .roulette-number:nth-child(6) { transform: translate(-50%, -50%) rotate(198deg) translateY(-6rem) rotate(-198deg); }
        .roulette-number:nth-child(7) { transform: translate(-50%, -50%) rotate(234deg) translateY(-6rem) rotate(-234deg); }
        .roulette-number:nth-child(8) { transform: translate(-50%, -50%) rotate(270deg) translateY(-6rem) rotate(-270deg); }
        .roulette-number:nth-child(9) { transform: translate(-50%, -50%) rotate(306deg) translateY(-6rem) rotate(-306deg); }
        .roulette-number:nth-child(10) { transform: translate(-50%, -50%) rotate(342deg) translateY(-6rem) rotate(-342deg); }
        
        /* Enhanced button styles */
        .btn-primary {
            background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);
            transform: translateY(0);
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(20, 184, 166, 0.4);
        }
        
        /* Chat styles */
        .chat-bubble-sent {
            background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);
            color: white;
            margin-left: 20%;
            border-radius: 20px 20px 6px 20px;
            box-shadow: 0 2px 10px rgba(20, 184, 166, 0.3);
        }
        
        .chat-bubble-received {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            color: #374151;
            margin-right: 20%;
            border-radius: 20px 20px 20px 6px;
            border: 1px solid #e5e7eb;
        }
        
        /* Dashboard styles */
        .dashboard-view {
            display: none;
        }
        
        .dashboard-view.active {
            display: block;
        }
        
        .footer-tab {
            transition: all 0.3s ease;
        }
        
        .footer-tab.active {
            color: #14b8a6;
            transform: translateY(-2px);
        }
        
        /* Win celebration */
        @keyframes celebration {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(-5deg); }
            50% { transform: scale(1.2) rotate(5deg); }
            75% { transform: scale(1.1) rotate(-3deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        
        .celebrate { animation: celebration 0.6s ease-in-out 3; }
        
        /* Drug test simulation */
        .video-call {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }
        
        .demo-badge {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
            z-index: 1000;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 font-sans">
    <div class="demo-badge">REACH 2.0 Demo</div>
    
    <div class="max-w-sm mx-auto bg-white min-h-screen shadow-2xl relative overflow-hidden">
        
        <!-- Screen 1: Welcome -->
        <section id="welcome" class="screen active flex-col justify-center items-center p-8 text-center h-screen bg-gradient-to-b from-teal-50 to-white">
            <div class="mb-12 animate-fade-scale">
                <div class="w-28 h-28 bg-gradient-to-br from-teal-500 to-teal-600 rounded-full mx-auto mb-8 flex items-center justify-center shadow-2xl animate-pulse-glow">
                    <span class="text-5xl text-white">üåô</span>
                </div>
                <h1 class="text-4xl font-bold text-gray-800 mb-6 leading-tight">Recovery Starts Here</h1>
                <p class="text-gray-600 text-xl leading-relaxed">Scan your first test, earn your first reward</p>
            </div>
            <button onclick="navigateTo('intake')" class="w-full btn-primary text-white py-5 px-8 rounded-2xl text-xl font-bold shadow-xl">
                Begin in ED
            </button>
        </section>

        <!-- Screen 2: Quick Intake -->
        <section id="intake" class="screen flex-col p-8 h-screen bg-gradient-to-b from-blue-50 to-white">
            <div class="mb-8 animate-slide-in">
                <button onclick="navigateTo('welcome')" class="text-teal-500 mb-6 flex items-center text-lg">
                    <span class="mr-3">‚Üê</span> Back
                </button>
                <h2 class="text-3xl font-bold text-gray-800 mb-3">Quick Intake</h2>
                <p class="text-gray-600 text-lg">Complete this to earn your first <span class="font-bold text-teal-600">10 points</span> ($2.50 value)!</p>
            </div>
            
            <div class="flex-1 space-y-6 mb-8 animate-slide-in">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-3">Patient Name</label>
                    <input type="text" value="Sarah Johnson" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all bg-gray-50" placeholder="Enter patient's full name">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-3">Medicaid ID</label>
                    <input type="text" value="MCD789012" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all bg-gray-50" placeholder="Enter Medicaid ID">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-3">Ethnicity</label>
                    <select class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all bg-gray-50">
                        <option>Not Hispanic or Latino</option>
                        <option>Hispanic or Latino</option>
                        <option>Prefer not to answer</option>
                    </select>
                </div>
            </div>
            
            <button onclick="navigateTo('intakeSuccess')" class="w-full btn-primary text-white py-5 px-8 rounded-2xl text-xl font-bold shadow-xl">
                Complete Intake
            </button>
        </section>

        <!-- Screen 3: Intake Success -->
        <section id="intakeSuccess" class="screen flex-col justify-center items-center p-8 text-center h-screen bg-gradient-to-b from-green-50 to-white">
            <div class="mb-12 animate-fade-scale">
                <div class="text-9xl mb-8 celebrate">üéâ</div>
                <h2 class="text-4xl font-bold text-gray-800 mb-6">Welcome to REACH!</h2>
                <div class="points-earned text-white py-4 px-8 rounded-full inline-block mb-6 shadow-xl">
                    <span class="font-bold text-2xl">+10 Points Earned!</span>
                </div>
                <p class="text-gray-600 text-lg mb-4">That's <span class="font-bold text-green-600">$2.50</span> in your pocket!</p>
                <p class="text-gray-500 text-sm">25 points = 1 roulette spin (up to $50 prizes)</p>
            </div>
            <button onclick="navigateTo('share')" class="w-full btn-primary text-white py-5 px-8 rounded-2xl text-xl font-bold shadow-xl">
                Continue Setup
            </button>
        </section>

        <!-- Screen 4: Share Consent -->
        <section id="share" class="screen flex-col justify-center items-center p-8 text-center h-screen bg-gradient-to-b from-purple-50 to-white">
            <div class="mb-12 animate-fade-scale">
                <div class="w-24 h-24 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full mx-auto mb-8 flex items-center justify-center shadow-2xl">
                    <span class="text-4xl text-white">üë•</span>
                </div>
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Share Your Journey?</h2>
                <p class="text-gray-600 text-lg leading-relaxed mb-4">Invite a loved one to support your recovery. They'll get updates on your progress (only what you choose to share).</p>
                <p class="text-gray-500 text-sm">This builds accountability and support - key for long-term success</p>
            </div>
            
            <div class="space-y-4 w-full">
                <button onclick="navigateTo('drugTest')" class="w-full btn-primary text-white py-5 px-8 rounded-2xl text-xl font-bold shadow-xl">
                    Yes, Add Support Person
                </button>
                <button onclick="navigateTo('drugTest')" class="w-full border-2 border-gray-300 text-gray-700 py-5 px-8 rounded-2xl text-xl font-bold hover:bg-gray-50 transition-all">
                    Skip For Now
                </button>
            </div>
        </section>

        <!-- Screen 5: Drug Test Simulation -->
        <section id="drugTest" class="screen flex-col p-6 h-screen bg-gradient-to-b from-blue-50 to-white">
            <div class="mb-6 animate-slide-in">
                <button onclick="navigateTo('share')" class="text-teal-500 mb-4 flex items-center text-lg">
                    <span class="mr-3">‚Üê</span> Back
                </button>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Guided Drug Test</h2>
                <p class="text-gray-600">Your CPSS will guide you through every step</p>
            </div>

            <!-- Video Call Interface -->
            <div class="flex-1 video-call p-4 mb-6 animate-slide-in">
                <div class="flex items-center justify-between text-white mb-4">
                    <div class="flex items-center space-x-2">
                        <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                        <span class="text-sm font-semibold">Connected with Zach (CPSS)</span>
                    </div>
                    <span class="text-xs">3:42</span>
                </div>
                
                <!-- Main video area -->
                <div class="bg-blue-800 rounded-lg h-48 flex items-center justify-center mb-4 relative">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-blue-600 rounded-full mx-auto mb-2 flex items-center justify-center">
                            <span class="text-2xl">üë®‚Äç‚öïÔ∏è</span>
                        </div>
                        <p class="text-white text-sm font-semibold">Zach Thompson</p>
                        <p class="text-blue-200 text-xs">CPSS</p>
                    </div>
                    
                    <!-- Patient video (small corner) -->
                    <div class="absolute bottom-2 right-2 w-16 h-20 bg-teal-700 rounded-lg flex items-center justify-center">
                        <span class="text-white text-lg">üë§</span>
                    </div>
                </div>
                
                <!-- Chat message from CPSS -->
                <div class="bg-blue-700 rounded-lg p-3">
                    <p class="text-white text-sm">"Perfect! Show me the tamper-proof seal and QR code on your test kit. Take your time - you're doing great!"</p>
                </div>
            </div>
            
            <button onclick="simulateTest()" id="testBtn" class="w-full bg-green-500 text-white py-4 px-6 rounded-xl text-lg font-bold hover:bg-green-600 transition-all shadow-lg">
                üß™ Start Guided Test
            </button>
        </section>

        <!-- Screen 6: Test Success -->
        <section id="testSuccess" class="screen flex-col justify-center items-center p-8 text-center h-screen bg-gradient-to-b from-green-50 to-white">
            <div class="mb-12 animate-fade-scale">
                <div class="text-9xl mb-8 celebrate">üéä</div>
                <h2 class="text-4xl font-bold text-green-600 mb-6">NEGATIVE!</h2>
                <div class="points-earned text-white py-4 px-8 rounded-full inline-block mb-6 shadow-xl">
                    <span class="font-bold text-2xl">+15 Points Earned!</span>
                </div>
                <p class="text-gray-600 text-lg mb-4">Total: <span class="font-bold text-teal-600">25 points</span> = <span class="font-bold text-green-600">$6.25</span></p>
                <p class="text-purple-600 text-xl font-bold">üé∞ You can now spin the roulette!</p>
            </div>
            <button onclick="navigateTo('dashboard')" class="w-full btn-primary text-white py-5 px-8 rounded-2xl text-xl font-bold shadow-xl">
                View Dashboard
            </button>
        </section>

        <!-- Screen 7: Dashboard -->
        <section id="dashboard" class="screen flex-col h-screen">
            <!-- Dashboard Content Area -->
            <div class="flex-1 overflow-y-auto">
                
                <!-- My Team View -->
                <div id="team-view" class="dashboard-view active p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">My Team</h2>
                    
                    <div class="space-y-4 mb-6">
                        <div class="bg-teal-50 rounded-xl p-5 border border-teal-200 shadow-lg">
                            <div class="flex items-center space-x-4">
                                <div class="w-14 h-14 bg-teal-500 rounded-full flex items-center justify-center text-white font-bold text-xl">
                                    Z
                                </div>
                                <div>
                                    <p class="font-bold text-lg">Zach Thompson</p>
                                    <p class="text-sm text-gray-600">CPSS - Your Recovery Coach</p>
                                    <p class="text-xs text-green-600 font-semibold">üü¢ Online now</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 rounded-xl p-5 border border-blue-200 shadow-lg">
                            <div class="flex items-center space-x-4">
                                <div class="w-14 h-14 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl">
                                    C
                                </div>
                                <div>
                                    <p class="font-bold text-lg">Cam Rodriguez</p>
                                    <p class="text-sm text-gray-600">MSW - Clinical Support</p>
                                    <p class="text-xs text-gray-500">Last seen 2h ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="font-bold mb-3 text-lg">Support Network</h3>
                    <div class="bg-gray-100 rounded-xl p-5 text-center">
                        <p class="text-gray-600 text-sm mb-3">Add family or friends to your support network</p>
                        <button class="text-teal-500 font-bold">+ Add Support Person</button>
                    </div>
                </div>

                <!-- Group Therapy View -->
                <div id="therapy-view" class="dashboard-view p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">Group Therapy</h2>
                    
                    <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl p-6 text-white mb-6 shadow-xl">
                        <h3 class="text-xl font-bold mb-2">Next Session</h3>
                        <p class="mb-1 text-lg">Monday, 2:00 PM - Pod Alpha</p>
                        <p class="text-purple-200 text-sm mb-4">8 participants in your pod</p>
                        <button class="bg-white text-purple-600 px-6 py-3 rounded-xl font-bold shadow-lg">
                            üìπ Join Waiting Room
                        </button>
                    </div>
                    
                    <div class="space-y-3">
                        <h3 class="font-bold text-lg">Pod Alpha Members</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <div class="bg-gray-50 rounded-xl p-4 text-center shadow">
                                <div class="w-10 h-10 bg-green-400 rounded-full mx-auto mb-2 flex items-center justify-center text-white font-bold">S</div>
                                <p class="text-sm font-bold">Sarah</p>
                                <p class="text-xs text-green-600">üü¢ Active</p>
                            </div>
                            <div class="bg-gray-50 rounded-xl p-4 text-center shadow">
                                <div class="w-10 h-10 bg-blue-400 rounded-full mx-auto mb-2 flex items-center justify-center text-white font-bold">M</div>
                                <p class="text-sm font-bold">Mike</p>
                                <p class="text-xs text-green-600">üü¢ Active</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tests View -->
                <div id="tests-view" class="dashboard-view p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">Drug Testing</h2>
                    
                    <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-6 text-white mb-6 shadow-xl">
                        <h3 class="text-xl font-bold mb-2">Great Job!</h3>
                        <p class="mb-4 text-lg">Test completed today - next test tomorrow</p>
                        <button class="bg-white text-green-600 px-6 py-3 rounded-xl font-bold opacity-75" disabled>
                            üß™ Test Completed Today
                        </button>
                    </div>
                    
                    <div class="space-y-3">
                        <h3 class="font-bold text-lg">Recent Tests</h3>
                        <div class="bg-green-50 rounded-xl p-5 border border-green-200 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="text-2xl mr-3">‚úÖ</span>
                                    <div>
                                        <p class="font-bold text-green-800">Saliva Test - NEGATIVE</p>
                                        <p class="text-sm text-green-600">Today, 3:42 PM with Zach</p>
                                    </div>
                                </div>
                                <span class="text-green-600 font-bold text-xl">+15</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- To-Dos View -->
                <div id="todos-view" class="dashboard-view p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">Today's Activities</h2>
                    
                    <div class="space-y-4">
                        <div class="border-2 border-green-200 bg-green-50 rounded-xl p-5 shadow-lg">
                            <div class="flex justify-between items-start">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">‚úÖ</span>
                                    <div>
                                        <p class="font-bold text-green-800 text-lg">Daily Drug Test</p>
                                        <p class="text-sm text-green-600">Completed with CPSS guidance</p>
                                    </div>
                                </div>
                                <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-bold">+15 pts</span>
                            </div>
                        </div>
                        
                        <div class="border-2 border-orange-200 bg-orange-50 rounded-xl p-5 shadow-lg">
                            <div class="flex justify-between items-start">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">üìù</span>
                                    <div>
                                        <p class="font-bold text-orange-800 text-lg">Daily Check-in</p>
                                        <p class="text-sm text-orange-600">Share how you're feeling today</p>
                                    </div>
                                </div>
                                <span class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-bold">+5 pts</span>
                            </div>
                        </div>
                        
                        <div class="border-2 border-blue-200 bg-blue-50 rounded-xl p-5 shadow-lg">
                            <div class="flex justify-between items-start">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">üí¨</span>
                                    <div>
                                        <p class="font-bold text-blue-800 text-lg">Attend Group Session</p>
                                        <p class="text-sm text-blue-600">Monday 2:00 PM - Pod Alpha</p>
                                    </div>
                                </div>
                                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-bold">+20 pts</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Wallet View -->
                <div id="wallet-view" class="dashboard-view p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">Reward Wallet</h2>
                    
                    <div class="bg-gradient-to-br from-teal-500 to-teal-600 rounded-2xl p-6 text-white mb-6 shadow-xl">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-xl">Total Points</span>
                            <span class="text-5xl font-bold">25</span>
                        </div>
                        <div class="text-center mb-4">
                            <p class="text-teal-100 mb-2">Cash Value: <span class="text-2xl font-bold">$6.25</span></p>
                        </div>
                        <div class="text-center">
                            <button onclick="openRoulette()" class="bg-white text-teal-600 px-8 py-3 rounded-full font-bold hover:bg-gray-100 transition-all transform hover:scale-105 shadow-lg">
                                üé∞ Spin Roulette (25 pts)
                            </button>
                        </div>
                    </div>
                    
                    <h3 class="font-bold mb-3 text-lg">Completed Activities</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-200 shadow-lg">
                            <div class="flex items-center">
                                <span class="text-2xl mr-3">‚úÖ</span>
                                <div>
                                    <p class="font-bold text-sm text-green-800">Drug Test Complete</p>
                                    <p class="text-xs text-green-600">Today, 3:42 PM</p>
                                </div>
                            </div>
                            <span class="text-green-600 font-bold">+15</span>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-200 shadow-lg">
                            <div class="flex items-center">
                                <span class="text-2xl mr-3">‚úÖ</span>
                                <div>
                                    <p class="font-bold text-sm text-green-800">Intake Complete</p>
                                    <p class="text-xs text-green-600">Today, 3:15 PM</p>
                                </div>
                            </div>
                            <span class="text-green-600 font-bold">+10</span>
                        </div>
                    </div>
                </div>

                <!-- Profile View -->
                <div id="profile-view" class="dashboard-view p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">Profile</h2>
                    
                    <div class="text-center mb-8">
                        <div class="w-24 h-24 bg-teal-500 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-3xl font-bold shadow-xl">
                            S
                        </div>
                        <h3 class="text-2xl font-bold">Sarah Johnson</h3>
                        <p class="text-gray-600">Member since today</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="border border-gray-200 rounded-xl p-5 shadow-lg">
                            <h4 class="font-bold mb-3 text-lg">Program Progress</h4>
                            <div class="grid grid-cols-3 gap-4 text-center">
                                <div>
                                    <p class="text-3xl font-bold text-teal-500">1</p>
                                    <p class="text-sm text-gray-600">Days Active</p>
                                </div>
                                <div>
                                    <p class="text-3xl font-bold text-teal-500">25</p>
                                    <p class="text-sm text-gray-600">Points Earned</p>
                                </div>
                                <div>
                                    <p class="text-3xl font-bold text-teal-500">1</p>
                                    <p class="text-sm text-gray-600">Tests Passed</p>
                                </div>
                            </div>
                        </div>
                        
                        <button class="w-full text-red-500 py-4 border-2 border-red-200 rounded-xl font-bold bg-red-50">
                            üö® Emergency Support: (555) 123-4567
                        </button>
                    </div>
                </div>

                <!-- Chat View -->
                <div id="chat-view" class="dashboard-view p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">Messages</h2>
                    
                    <div class="flex-1 space-y-4 mb-6 max-h-96 overflow-y-auto">
                        <div class="chat-bubble-received p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-10 h-10 bg-teal-500 rounded-full flex items-center justify-center text-white font-bold">
                                    Z
                                </div>
                                <div>
                                    <p class="text-xs text-gray-500 mb-1">Zach (CPSS)</p>
                                    <p class="text-sm">Excellent work on your first test! You should be proud of yourself. üéâ</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-bubble-received p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">
                                    C
                                </div>
                                <div>
                                    <p class="text-xs text-gray-500 mb-1">Cam (MSW)</p>
                                    <p class="text-sm">Welcome to REACH! I'm here whenever you need support. Looking forward to working with you!</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="sentMessage" class="chat-bubble-sent p-4 hidden">
                            <p class="text-sm">Thank you both! I'm excited to be here and ready to work hard! üí™</p>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3">
                        <input type="text" id="messageInput" placeholder="Type a message..." class="flex-1 p-3 border-2 border-gray-200 rounded-full focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all">
                        <button onclick="sendDemoMessage()" class="bg-teal-500 text-white px-6 py-3 rounded-full font-bold hover:bg-teal-600 transition-all">
                            Send
                        </button>
                    </div>
                </div>
            </div>

            <!-- Footer Navigation -->
            <div class="bg-white border-t-2 border-gray-100 px-2 py-3 shadow-lg">
                <div class="flex justify-around">
                    <button onclick="showDashboardView('team')" class="footer-tab active flex flex-col items-center p-2">
                        <span class="text-lg mb-1">üë•</span>
                        <span class="text-xs font-semibold">Team</span>
                    </button>
                    <button onclick="showDashboardView('therapy')" class="footer-tab flex flex-col items-center p-2 text-gray-400">
                        <span class="text-lg mb-1">üí¨</span>
                        <span class="text-xs font-semibold">Group</span>
                    </button>
                    <button onclick="showDashboardView('tests')" class="footer-tab flex flex-col items-center p-2 text-gray-400">
                        <span class="text-lg mb-1">üß™</span>
                        <span class="text-xs font-semibold">Tests</span>
                    </button>
                    <button onclick="showDashboardView('todos')" class="footer-tab flex flex-col items-center p-2 text-gray-400">
                        <span class="text-lg mb-1">üìù</span>
                        <span class="text-xs font-semibold">To-Do</span>
                    </button>
                    <button onclick="showDashboardView('wallet')" class="footer-tab flex flex-col items-center p-2 text-gray-400">
                        <span class="text-lg mb-1">üí∞</span>
                        <span class="text-xs font-semibold">Wallet</span>
                    </button>
                    <button onclick="showDashboardView('profile')" class="footer-tab flex flex-col items-center p-2 text-gray-400">
                        <span class="text-lg mb-1">üë§</span>
                        <span class="text-xs font-semibold">Profile</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Roulette Modal - Gold Standard -->
        <div id="rouletteModal" class="fixed inset-0 bg-black bg-opacity-60 hidden z-50 flex items-center justify-center p-6">
            <div class="bg-white rounded-3xl p-8 text-center max-w-md w-full shadow-2xl">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Reward Roulette!</h2>
                <p class="text-gray-600 mb-8 text-lg">Cost: 25 points = Win up to $50!</p>
                
                <div class="relative mb-10">
                    <div id="rouletteWheel" class="roulette-wheel mx-auto">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-6 h-6 bg-white rounded-full z-10 shadow-lg border-2 border-gray-300"></div>
                        </div>
                        <div class="roulette-numbers">
                            <div class="roulette-number">$5</div>
                            <div class="roulette-number">$10</div>
                            <div class="roulette-number">$5</div>
                            <div class="roulette-number">$15</div>
                            <div class="roulette-number">$5</div>
                            <div class="roulette-number">$10</div>
                            <div class="roulette-number">$5</div>
                            <div class="roulette-number">$25</div>
                            <div class="roulette-number">$5</div>
                            <div class="roulette-number">$30</div>
                        </div>
                    </div>
                    <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2 z-20">
                        <div class="w-0 h-0 border-l-6 border-r-6 border-b-10 border-l-transparent border-r-transparent border-b-gray-800 shadow-lg"></div>
                    </div>
                </div>
                
                <button onclick="spinRoulette()" id="spinButton" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-5 rounded-2xl text-xl font-bold mb-4 shadow-xl transform hover:scale-105 transition-all">
                    üé∞ Tap to spin now! üé∞
                </button>
                
                <button onclick="closeRoulette()" class="w-full border-2 border-gray-300 text-gray-700 py-4 rounded-2xl font-bold hover:bg-gray-50 transition-all">
                    Cancel
                </button>
                
                <div id="spinResult" class="hidden mt-8 text-center">
                    <div class="text-8xl mb-4 celebrate">üéä</div>
                    <h3 class="text-4xl font-bold text-green-600 mb-4 celebrate" id="winAmount">YOU WON $15!</h3>
                    <p class="text-gray-600 mb-6 text-lg">Money will be sent to your account!</p>
                    <button onclick="closeRoulette()" class="bg-gradient-to-r from-teal-500 to-teal-600 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-xl">
                        Collect Winnings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced demo state
        let currentPoints = 25;
        let demoStep = 0;
        
        // Analytics for demo tracking
        function logDemoEvent(action, screen, details = {}) {
            const event = {
                timestamp: new Date().toISOString(),
                action: action,
                screen: screen,
                details: details,
                demoStep: demoStep++,
                sessionId: getDemoSessionId()
            };
            console.log('[REACH 2.0 Demo Analytics]', event);
        }

        function getDemoSessionId() {
            let sessionId = sessionStorage.getItem('reach-demo-session');
            if (!sessionId) {
                sessionId = 'demo-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
                sessionStorage.setItem('reach-demo-session', sessionId);
            }
            return sessionId;
        }

        // Enhanced navigation with staging
        function navigateTo(screenId) {
            const currentScreen = document.querySelector('.screen.active');
            const nextScreen = document.getElementById(screenId);
            
            logDemoEvent('NAVIGATE', screenId.toUpperCase(), {
                from: currentScreen.id,
                to: screenId
            });
            
            // Smooth staging transition
            currentScreen.style.transform = 'translateY(-20px)';
            currentScreen.style.opacity = '0';
            
            setTimeout(() => {
                currentScreen.classList.remove('active');
                nextScreen.classList.add('active');
                nextScreen.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 300);
        }

        // Drug test simulation
        function simulateTest() {
            const btn = document.getElementById('testBtn');
            
            logDemoEvent('DRUG_TEST_STARTED', 'DRUGTEST');
            
            btn.textContent = 'Showing Test Kit...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.textContent = 'Collecting Sample...';
                setTimeout(() => {
                    btn.textContent = 'Processing Results...';
                    setTimeout(() => {
                        btn.textContent = 'Results Ready!';
                        setTimeout(() => {
                            logDemoEvent('DRUG_TEST_COMPLETED', 'DRUGTEST');
                            navigateTo('testSuccess');
                        }, 1000);
                    }, 2500);
                }, 2000);
            }, 2000);
        }

        // Dashboard navigation
        function showDashboardView(viewName) {
            // Hide all dashboard views
            document.querySelectorAll('.dashboard-view').forEach(view => {
                view.classList.remove('active');
            });
            
            // Show selected view
            document.getElementById(viewName + '-view').classList.add('active');
            
            // Update tab states
            document.querySelectorAll('.footer-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.classList.add('text-gray-400');
            });
            
            // Highlight active tab
            if (event && event.target) {
                const tab = event.target.closest('.footer-tab');
                tab.classList.add('active');
                tab.classList.remove('text-gray-400');
            }
            
            logDemoEvent('TAB_SWITCH', viewName.toUpperCase());
        }

        // Chat functionality
        function sendDemoMessage() {
            const input = document.getElementById('messageInput');
            const sentMessage = document.getElementById('sentMessage');
            
            if (input.value.trim()) {
                sentMessage.classList.remove('hidden');
                input.value = '';
                
                // Scroll to show sent message
                sentMessage.scrollIntoView({ behavior: 'smooth' });
                
                logDemoEvent('MESSAGE_SENT', 'CHAT');
            }
        }

        // Perfect Roulette - Gold Standard Implementation
        function openRoulette() {
            document.getElementById('rouletteModal').classList.remove('hidden');
            logDemoEvent('ROULETTE_OPENED', 'WALLET');
        }

        function spinRoulette() {
            const button = document.getElementById('spinButton');
            const wheel = document.getElementById('rouletteWheel');
            
            button.disabled = true;
            button.textContent = 'üé∞ SPINNING... üé∞';
            wheel.classList.add('spinning');
            
            logDemoEvent('ROULETTE_SPIN_STARTED', 'WALLET');
            
            // Define wheel sections with EXACT angles (Gold Standard)
            const wheelSections = [
                { angle: 18, prize: 5 },   // $5 section 1
                { angle: 54, prize: 10 },  // $10 section 1
                { angle: 90, prize: 5 },   // $5 section 2
                { angle: 126, prize: 15 }, // $15 section
                { angle: 162, prize: 5 },  // $5 section 3
                { angle: 198, prize: 10 }, // $10 section 2
                { angle: 234, prize: 5 },  // $5 section 4
                { angle: 270, prize: 25 }, // $25 section
                { angle: 306, prize: 5 },  // $5 section 5
                { angle: 342, prize: 30 }  // $30 section
            ];
            
            // Determine winning section with proper probabilities
            const rand = Math.random();
            let winningSection;
            
            if (rand < 0.1) {
                winningSection = wheelSections[9]; // $30 - 10%
            } else if (rand < 0.2) {
                winningSection = wheelSections[7]; // $25 - 10%
            } else if (rand < 0.3) {
                winningSection = wheelSections[3]; // $15 - 10%
            } else if (rand < 0.5) {
                const tenSections = [wheelSections[1], wheelSections[5]]; // $10 - 20%
                winningSection = tenSections[Math.floor(Math.random() * tenSections.length)];
            } else {
                const fiveSections = [wheelSections[0], wheelSections[2], wheelSections[4], wheelSections[6], wheelSections[8]]; // $5 - 50%
                winningSection = fiveSections[Math.floor(Math.random() * fiveSections.length)];
            }
            
            // Calculate PERFECT final rotation
            const baseRotations = 2160; // 6 full spins for dramatic effect
            const targetAngle = 360 - winningSection.angle; // Bring winning section to pointer
            const finalRotation = baseRotations + targetAngle;
            
            // Execute pixel-perfect spin
            wheel.style.transform = `rotate(${finalRotation}deg)`;
            
            // Show results with perfect timing
            setTimeout(() => {
                currentPoints -= 25;
                document.getElementById('winAmount').textContent = `YOU WON $${winningSection.prize}!`;
                document.getElementById('spinResult').classList.remove('hidden');
                button.classList.add('hidden');
                wheel.classList.remove('spinning');
                
                // Haptic feedback for mobile
                if (navigator.vibrate) {
                    navigator.vibrate([100, 50, 100, 50, 200]);
                }
                
                logDemoEvent(`ROULETTE_WON_$${winningSection.prize}`, 'WALLET', {
                    winAmount: winningSection.prize,
                    targetAngle: winningSection.angle,
                    finalRotation: finalRotation,
                    precision: 'perfect'
                });
            }, 3500);
        }

        function closeRoulette() {
            document.getElementById('rouletteModal').classList.add('hidden');
            document.getElementById('spinResult').classList.add('hidden');
            document.getElementById('spinButton').classList.remove('hidden');
            document.getElementById('spinButton').disabled = false;
            document.getElementById('spinButton').textContent = 'üé∞ Tap to spin now! üé∞';

            // Reset wheel to starting position
            const wheel = document.getElementById('rouletteWheel');
            wheel.classList.remove('spinning');
            wheel.style.transform = 'rotate(0deg)';
            wheel.style.transition = 'none';
            setTimeout(() => {
                wheel.style.transition = 'transform 3.5s cubic-bezier(0.23, 1, 0.32, 1)';
            }, 100);
        }

        // Enhanced interaction tracking
        document.addEventListener('click', function(e) {
            if (e.target.tagName === 'BUTTON') {
                const currentScreen = document.querySelector('.screen.active');
                const buttonText = e.target.textContent.trim();
                
                logDemoEvent('BUTTON_INTERACTION', currentScreen.id.toUpperCase(), {
                    buttonText: buttonText,
                    element: e.target.className
                });
            }
        });

        // Allow Enter key in chat
        document.addEventListener('DOMContentLoaded', function() {
            const messageInput = document.getElementById('messageInput');
            if (messageInput) {
                messageInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendDemoMessage();
                    }
                });
            }
        });

        // Demo initialization
        document.addEventListener('DOMContentLoaded', function() {
            logDemoEvent('DEMO_LOADED', 'WELCOME');
            console.log('üåô REACH 2.0 Patient Journey Demo - Enhanced UX');
            console.log('üéØ Gold Standard Roulette Wheel - Precision Mode');
            console.log('üì± Complete Dashboard with Footer Navigation');
            
            // Add demo intro delay
            setTimeout(() => {
                document.querySelector('#welcome').style.opacity = '1';
                document.querySelector('#welcome').style.transform = 'translateY(0)';
            }, 500);
        });

        // Track demo completion
        window.addEventListener('beforeunload', function() {
            logDemoEvent('DEMO_SESSION_END', 'APP', {
                totalSteps: demoStep,
                duration: Date.now() - parseInt(getDemoSessionId().split('-')[1])
            });
        });
    </script>
</body>
</html>
